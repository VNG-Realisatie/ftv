---
bookCollapseSection: false
weight: 20
title: "Huidige oplossingen"
---

# Inventarisatie van huidige oplossingen

Toegangsverlening is van alle tijden. Alle basisregistraties hebben nu een vorm van toegangsverlening. 
Zelfs de open API's gebruiken meestal een API key om grip te houden op wie hoe vaak welke data opvraagt.
In deze sectie doen we een inventarisatie van de huidige oplossingen. Dit kan ons vertellen wat er nu goed gaat en welke uitdagingen er zijn. 
En geeft ons ook een vorm van minimale requirements: FTV moet minstens kunnen bieden wat nu al bestaat. 

## Scope
Als we gaan kijken naar 'huidige oplossingen' dan beperken we ons tot in productie zijnde API's
binnen het stelsel van basisregistraties, inclusief sectorale registraties. 

Daarnaast zijn er voorgestelde oplossingen die niet uitgevoerd zijn,
oplossingen buiten het stelsel, open API's, en oplossingen die niet met API's te maken hebben. 
Die laten we buiten beschouwing.

## Methodieken van toegangsverlening
In het project FDS is een [algemene beschrijving van de gangbare methodieken van toegangsverlening](https://federatief.datastelsel.nl/kennisbank/pbac/) gemaakt, 
inclusief een vergelijking daartussen. 
Ook onder GEMMA is een [vergelijking](https://www.gemmaonline.nl/wiki/WMA_RBAC_ABAC_en_PBAC) gemaakt.
Deze vergelijkingen gaat over methodieken, dus categorie&euml;n van oplossingen, niet concrete implementaties.

Aan de buitenkant, aan de API, de interface, is niet te zien hoe toegangsverlenging werkelijk
gerealiseerd is. Neem als voorbeeld een REST API waar geen expliciete toegangsverleningsinformatie wordt meegegeven.
De toegang zal dan zijn afgeleid uit de identificatie. De dienst kan dan een lijst van identiteiten 
hebben, en als de identiteit op de lijst staat wordt volledige toegang verleend. Dan noemen
we de methodiek Access Control List (ACL). Maar het kan ook zijn dat aan elke identiteit op de lijst
weer een lijst van rollen is gekoppeld, waarmee een vorm van RBAC is bereikt. En het kan evengoed
zijn dat de dienst per identiteit een lijst van attributen of toegangsregels heeft die intern uitgevoerd, en dus
ABAC of PBAC genoemd mag worden. We zullen dus bij de aanbieders moeten informeren hoe het gerealiseerd is.

We kunnen er wel vanuit gaan dat er geen federatieve methodieken in gebruik zijn. 

## Relatie met bestaande koppelvlakstandaarden
De volgende koppelstandaarden zijn relevant om als context te kennen:
- **Diginetwerk**. Een afsprakenstelsel op infrastructuurniveau dat een besloten netwerk realiseert voor de overheid (de transportlaag).
- **Digikoppeling**. Een set van standaarden en afspraken over koppelvlakken die o.a. de encryptie regelt (de sessielaag). 

  Digikoppeling omvat, bovenop een encryptielaag, de standaarden ebMS, WUS, REST en Grote Berichten, die elk een methodiek van koppelen 
  beschrijven (de applicatielaag).
  - WUS is een samentrekking van 3 wat oudere standaarden WSDL, UDDI en SOAP, en digikoppeling beschrijft de Nederlandse regels over het gebruik daarvan.
  - ebMS gaat over asynchroon uitwisselen met betrouwbare aflevering.
  - Grote Berichten gaat, zoals de naam al zegt, over het uitwisselen van grote berichten, en dan over WUS of ebMS2.
  - REST is een standaard die wereldwijd voor alle moderne API's gebruikt wordt. De beschrijving onder digikoppeling zegt meer over hoe
de Nederlandse overheid REST toepast. 
- **StUF**. Een standaard bovenop WUS die een XML-formaat voor berichtenuitwisseling beschrijft.
- **HaalCentraal**. Een set van afspraken en standaarden bovenop Digikoppeling REST, specifiek voor basisregistraties.

Voor dit project stellen we dat ebMS2, WUS en Grote Berichten een oudere generatie zijn en niet als API's gezien worden 
in onze terminologie. StUF, REST en HaalCentraal zijn wel in scope.

### Autorisatie in de bestaande koppelvlakstaarden

#### Stuf
StUF is een oudere generatie die niet meer wordt doorontwikkeld, maar nog wel volop in gebruik is.
In de generieke onderlaag van StUF is ruimte om 4 gegevens mee te geven van zowel de afzender als de ontvanger: 
organisatie, applicatie, administratie en gebruiker. Expliciet staat in de handleiding, pagina 45: "StUF bevat geen 
voorschriften met betrekking tot autorisatie, maar het biedt dankzij dit stuurgegeven wel de mogelijkheid om
autorisatiemechanismen in te bouwen in de berichtverwerkende software". Er zijn daarnaast foutcodes om aan te geven dat een 
bericht niet ontvankelijk is vanwege autorisatie. Bovenop StUF basis zijn er een aantal registratie- of sectorspecifieke 
standaarden gedefinieerd. Ook hierin is geen autorisatiefunctionaliteit beschreven.

#### HaalCentraal

Digikoppeling met REST is de huidige standaard voor basisregistratie-API's, en in het bijzonder HaalCentraal waarin uitgebreide
voorzieningen worden geboden voor onder andere IAM en logging.

Op de [HaalCentraal website](https://vng-realisatie.github.io/Haal-Centraal/aansluiten-op-apis) kunnen we vinden welke API's volgens die methode geleverd zijn.

## Inventarisatie
Zoals gezegd kunnen we niet aan de buitenkant van een API zien hoe toegang geregeld is. Daarom maken we zoveel
mogelijk rechtstreeks contact met de beheerders van de registraties. 

Dit is het totale aanbod van registraties:
- [Lijst van basisregistraties](https://www.digitaleoverheid.nl/overzicht-van-alle-onderwerpen/stelsel-van-basisregistraties/10-basisregistraties/)
- [Lijst van sectorregistraties](https://www.digitaleoverheid.nl/overzicht-van-alle-onderwerpen/stelsel-van-basisregistraties/sectorregistraties/)

Daarnaast zijn er API's voor zaakgericht werken gebaseerd op [OpenZaak](https://github.com/open-zaak/open-zaak/blob/d9c14e1257d6ec6751b218b18cdd9eae4b8f9b63/docs/manual/general.rst#api-autorisaties).

| Code                                                  | Naam basisregistratie / dienst                                                                                                | Koppelvlak   | Toegangsverlening   | [Digimelding](/docs/architecture/inventarisation/tmv) | Digilevering |
|-------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|--------------|---------------------|-------------------------------------------------------|--------------|
| [BRP](/docs/architecture/inventarisation/brp)         | Personen (inclusief RNI)                                                                                                      | HaalCentraal | Eigen model en expressietaal | X                                                     |              |
| [HR](https://www.kvk.nl/producten-bestellen/kvk-api/) | Handelsregister                                                                                                               | REST         | Geen, alles is open | X                                                     | X            |
| BAG                                                   | Adressen en Gebouwen                                                                                                          |              |                     | X                                                     | X            |
| BRT                                                   | Topografie                                                                                                                    | HaalCentraal |                     | X                                                     |              |
| BRK                                                   | Kadaster                                                                                                                      |              |                     |                                                       | X            |
| BRV                                                   | [Voertuigen](https://www.rdw.nl/over-rdw/dienstverlening/betaald-toegang-tot-ongevoelige-kentekengegevens) (kentekenregister) | HaalCentraal |                     |                                                       |              |
| BRI                                                   | Inkomen                                                                                                                       |              |                     |                                                       |              |
| WOZ                                                   | Waarde Onroerende Zaken                                                                                                       | HaalCentraal |                     |                                                       | X            |
| BGT                                                   | Grootschalige Topografie (voorheen GBKN)                                                                                      |              |                     |                                                       |              |
| BRO                                                   | Ondergrond                                                                                                                    |              |                     |                                                       |              |
